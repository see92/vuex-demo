<template>
  <b-card title="Create Awesome ğŸ™Œ">
    <b-card-text>This is your second page.</b-card-text>
    <b-card-text>Chocolate sesame snaps pie carrot cake pastry pie lollipop muffin. Carrot cake dragÃ©e chupa chups jujubes. Macaroon liquorice cookie wafer tart marzipan bonbon. Gingerbread jelly-o dragÃ©e chocolate.</b-card-text>

    <hr />
    <!-- <div>{{ this.$store.state.name }} </div>
    <div>{{ this.$store.state.age }}</div> -->
    <!-- <div>{{ name2 }}</div>
    <div>{{ age2 }}</div> -->
    <hr />
    <!-- <b-button variant="primary" @click="changeName('é©¬å…­')">ç‚¹å‡»æŒ‰é’®</b-button>
    <div class="mt-2"> {{ name2 }}</div> -->
    <!-- å¼‚æ­¥æ“ä½œç¬¬ä¸€ç§æ–¹æ³• -->
    <b-button @click="changeName2('å°æµª')">æ–¹æ³•1,æŒ‰é’®ä½¿ç”¨actionsä¸­çš„æ–¹æ³•</b-button>
    <div>{{ name2 }} </div>
    <!-- å¼‚æ­¥æ“ä½œç¬¬äºŒç§æ–¹æ³• -->
    <!-- <b-button variant="primary" @click="changeNameAsync('å°æ¸£')">ç‚¹å‡»æ›´æ”¹åç§°</b-button>
    {{ name2 }} -->
    <hr>
    <!-- getter -->
    <!-- {{ this.$store.getters.decorationName }} -->
    <!-- <div>{{ decorationName }}</div> -->
    <hr />
    <!-- animal -->
    <div> {{ this.$store.state.animal.animalName }} </div>
    <b-button variant="success" @click="$store.commit('setName','è€äº”')">æ›´æ”¹åå­—</b-button>

    <hr>
    <div>{{ animalName }}</div>
    <b-button variant="success" @click="setName('è›®å­')">ç‚¹å‡»æ”¹å˜åå­—</b-button>
  </b-card>
</template>

<script>
import { BCard, BCardText, BButton } from 'bootstrap-vue'
import { mapState, mapMutations, mapActions, mapGetters } from 'vuex';

export default {
  components: {
    BCard,
    BCardText,
    BButton
  },
  computed: {
    ...mapState({ name2: 'name', age2: 'age' }),
    ...mapState('animal', ['animalName']),
    /**
     * mapGetters 
     * å°†getteræ˜ å°„åˆ°å½“å‰ç»„ä»¶çš„è®¡ç®—å±æ€§ä¸Š
     */
    ...mapGetters(['decorationName'])
  },
  methods: {
    // å°†mutationsä¸­çš„changeNameæ–¹æ³•æ˜ å°„åˆ°methodsä¸­,å°±èƒ½ç›´æ¥ä½¿ç”¨äº†changeNameäº†
    // ...mapMutations(['changeName'])


    // è§¦å‘mutationsä¸­çš„changeName
    // handleClick() {
    //   this.$store.commit('changeName', 'æå››')
    // }

    // ä½¿ç”¨dispatchæ¥è°ƒç”¨actionsä¸­çš„æ–¹æ³•
    changeName2(newName) {
      this.$store.dispatch("changeNameAsync", newName)
    },
    // æ˜ å°„ actionsä¸­çš„æŒ‡å®šæ–¹æ³•,åˆ°methodsä¸­,å°±å¯ä»¥åœ¨ç»„ä»¶ä½¿ç”¨
    // ...mapActions(['changeNameAsync']),
    ...mapMutations('animal', ['setName'])
  }
}
</script>

<style>
</style>
